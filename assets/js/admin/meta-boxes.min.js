jQuery(function(a){var b={attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200};a(".tips, .help_tip").tipTip(b),a(document.body).on("blur",".axisbuilder_input_class[type=text], .axisbuilder_input_id[type=text]",function(){return a(".axisbuilder_error_tip").fadeOut("100",function(){a(this).remove()}),this}),a(document.body).on("keyup change",".axisbuilder_input_class[type=text], .axisbuilder_input_id[type=text]",function(){var b=a(this).val(),c=new RegExp("[^a-zA-Z0-9-_]+","gi"),d=b.replace(c,"");if(b!==d&&(a(this).val(d),0===a(this).parent().find(".axisbuilder_error_tip").size())){var e=a(this).position();a(this).after('<div class="axisbuilder_error_tip">'+axisbuilder_admin_meta_boxes_builder.i18n_css_class_id_error+"</div>"),a(".axisbuilder_error_tip").css("left",e.left+a(this).width()-a(this).width()/2-a(".axisbuilder_error_tip").width()/2).css("top",e.top+a(this).height()).fadeIn("100")}return this}),a(document.body).click(function(){a(".axisbuilder_error_tip").fadeOut("100",function(){a(this).remove()})}),a(document.body).on("change",".axisbuilder-enhanced-form input[type=hidden], .axisbuilder-enhanced-form input[type=text], .axisbuilder-enhanced-form input[type=checkbox], .axisbuilder-enhanced-form textarea, .axisbuilder-enhanced-form select, .axisbuilder-enhanced-form radio",function(){var b=a(this),c=b.parents(".axisbuilder-backbone-modal-content:eq(0)");c.length||(c=a(document.body));var d=this.id.replace(/axisbuilderTB-/,""),e=c.find('.field-container[data-check-element="'+d+'"]'),f=b.parents(".field-container:eq(0)").is(".axisbuilder-hidden"),g=this.value;return b.is("input[type=checkbox]")&&!b.prop("checked")&&(g=""),e.length?void e.each(function(){var b=!1,c=a(this),d=c.data("check-operator"),e=c.data("check-value").toString();if(!f)switch(d){case"equals":b=g===e?!0:!1;break;case"not":b=g!==e?!0:!1;break;case"is_larger":b=g>e?!0:!1;break;case"is_smaller":b=e>g?!0:!1;break;case"contains":b=-1!==g.indexOf(e)?!0:!1;break;case"doesnot_contain":b=-1===g.indexOf(e)?!0:!1;break;case"is_empty_or":b=""===g||g===e?!0:!1;break;case"not_empty_and":b=""!==g||g!==e?!0:!1}b===!0&&c.is(".axisbuilder-hidden")?(c.css({display:"none"}).removeClass("axisbuilder-hidden").find("select, radio, input[type=checkbox]").trigger("change"),c.slideDown()):b!==!1||c.is(".axisbuilder-hidden")||(c.css({display:"block"}).addClass("axisbuilder-hidden").find("select, radio, input[type=checkbox]").trigger("change"),c.slideUp())}):!0}),a("ul.axisbuilder-tabs").show(),a("div.panel-wrap").each(function(){a(this).find("div.panel:not(:first)").hide()}),a("ul.axisbuilder-tabs a").click(function(){var b=a(this).closest("div.panel-wrap");return a("ul.axisbuilder-tabs li",b).removeClass("active"),a(this).parent().addClass("active"),a("div.panel",b).hide(),a(a(this).attr("href")).show(),!1}),a("ul.axisbuilder-tabs li").eq(0).find("a").click(),a(document.body).on("axisbuilder-init-datepickers",function(){a(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0})}).trigger("axisbuilder-init-datepickers"),a(document.body).on("axisbuilder-enhanced-modal-elements-init",function(){a("textarea.axisbuilder-tinymce").each(function(){var b=this.id,c=a(this),d=c.parents(".wp-editor-wrap:eq(0)"),e=d.find("textarea.axisbuilder-tinymce"),f=d.find(".wp-switch-editor").removeAttr("onclick"),g={id:this.id,buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,spell,close"};quicktags(g),QTags._buttonsInit(),f.bind("click",function(){var c=a(this);if(c.is(".switch-tmce"))d.removeClass("html-active").addClass("tmce-active"),window.tinyMCE.execCommand("mceAddEditor",!0,b),window.tinyMCE.get(b).setContent(window.switchEditors.wpautop(e.val()),{format:"raw"});else{var f=e.val();window.tinyMCE.get(b)&&(f=window.tinyMCE.get(b).getContent()),d.removeClass("tmce-active").addClass("html-active"),window.tinyMCE.execCommand("mceRemoveEditor",!0,b),e.val(window.switchEditors._wp_Nop(f))}}),f.filter(".switch-tmce").trigger("click"),a(document.body).on("axisbuilder-enhanced-form-tinymce-data",function(){f.filter(".switch-html").trigger("click")}),a(document.body).on("axisbuilder-enhanced-form-tinymce-close",function(){window.tinyMCE.execCommand("mceRemoveEditor",!0,b),"object"==typeof window.editorExpand&&(window.editorExpand.off(),window.editorExpand.on())})}),a(":input.color-picker-field, :input.color-picker").filter(":not(.enhanced)").each(function(){var b={palettes:["#000000","#ffffff","#B02B2C","#edae44","#eeee22","#83a846","#7bb0e7","#745f7e","#5f8789","#d65799","#4ecac2"]};a(this).wpColorPicker(b).addClass("enhanced")})}).on("axisbuilder_backbone_modal_before_update",function(){a(document.body).trigger("axisbuilder-enhanced-form-tinymce-data")}).on("axisbuilder_backbone_modal_before_remove",function(){a(document.body).trigger("axisbuilder-enhanced-form-tinymce-close"),a(":input.color-picker-field, :input.color-picker").wpColorPicker("close")}).trigger("axisbuilder-enhanced-modal-elements-init")});