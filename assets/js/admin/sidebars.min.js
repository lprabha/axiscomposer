!function(a){"use strict";a.ACSidebars=function(){this.widgetArea=a("#widgets-right"),this.widgetWrap=a(".widget-liquid-right"),this.widgetTmpl=a("#tmpl-axiscomposer-form-create-sidebar"),this.createForm(),this.deleteIcon(),this.bindEvents()},a.ACSidebars.prototype={createForm:function(){this.widgetArea.prepend(this.widgetTmpl.html())},deleteIcon:function(){this.widgetArea.find(".sidebar-axiscomposer-custom-widgets-area").css("position","relative").append('<div class="axiscomposer-delete-sidebar"><br /></div>')},bindEvents:function(){this.widgetWrap.on("click",".axiscomposer-delete-sidebar",a.proxy(this.delete_sidebar,this))},delete_sidebar:function(b){var c=this,d=a(b.currentTarget).parents(".widgets-holder-wrap:eq(0)"),e=d.find(".sidebar-name h3"),f=e.find(".spinner"),g=a.trim(e.text()),h={sidebar:g,action:"axiscomposer_delete_custom_sidebar",security:axiscomposer_admin_sidebars.delete_custom_sidebar_nonce};a(this).ACBackboneModal({template:"#tmpl-axiscomposer-modal-delete-sidebar"}),a(document.body).on("ac_backbone_modal_response",function(b,e){"#tmpl-axiscomposer-modal-delete-sidebar"===e&&a.ajax({url:axiscomposer_admin_sidebars.ajax_url,data:h,type:"POST",beforeSend:function(){f.css({visibility:"visible",display:"inline-block"})},success:function(b){b===!0&&(d.slideUp(200,function(){a(".widget-control-remove",d).trigger("click"),d.remove(),c.widgetArea.find(".widgets-holder-wrap .widgets-sortables").each(function(b){a(this).attr("id","sidebar-"+(b+1))}),wpWidgets.saveOrder()}),window.setTimeout(function(){location.reload(!1)},100))}})})}},a(function(){a.ACSidebarsObj=new a.ACSidebars})}(jQuery);