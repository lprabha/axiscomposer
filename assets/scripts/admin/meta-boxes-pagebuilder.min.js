jQuery(function(a){var b={init:function(){this.stupidtable.init(),a("#axisbuilder-editor").on("click","a.trash-data",this.trash_data).on("click",".axisbuilder-edit",this.edit_element).on("click","a.axisbuilder-cell-set",this.cell_size),a("body").on("axisbuilder_backbone_modal_loaded",this.backbone.init).on("axisbuilder_backbone_modal_response",this.backbone.response)},block:function(){a("#axisbuilder-editor").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){a("#axisbuilder-editor").unblock()},trash_data:function(){var b=a(".canvas-area").children().length;return a(this).AxisBuilderBackboneModal({title:axisbuilder_admin_meta_boxes_builder.i18n_trash_all_elements_title,message:b>0?axisbuilder_admin_meta_boxes_builder.i18n_trash_all_elements_message:axisbuilder_admin_meta_boxes_builder.i18n_trash_all_elements_atleast,dismiss:b>0?!1:!0,template:"#tmpl-axisbuilder-modal-trash-data"}),!1},edit_element:function(){var b=a(this).parents(".axisbuilder-sortable-element:eq(0)");return b.length||(b=a(this).parents(".axisbuilder-layout-cell:eq(0)"),b.length||(b=a(this).parents(".axisbuilder-layout-section:eq(0)"))),a(this).AxisBuilderBackboneModal({title:b.data("modal-title"),screen:b.data("modal-class"),message:"Fetch options field with validation using AJAX...",template:"#tmpl-axisbuilder-modal-edit-element"}),!1},cell_size:function(){},backbone:{init:function(b,c){"#tmpl-axisbuilder-modal-edit-element"===c&&a("body").trigger("axisbuilder-enhanced-select-init")},response:function(a,c){"#tmpl-axisbuilder-modal-trash-data"===c&&b.backbone.trash_data(),"#tmpl-axisbuilder-modal-edit-element"===c&&b.backbone.edit_element(),"#tmpl-axisbuilder-modal-cell-size"===c&&b.backbone.cell_size()},trash_data:function(){a(".canvas-area").empty()},edit_element:function(){},cell_size:function(){}},stupidtable:{init:function(){a(".axisbuilder_editor").stupidtable().on("aftertablesort",this.add_arrows)},add_arrows:function(b,c){var d=a(this).find("th"),e="asc"===c.direction?"&uarr;":"&darr;",f=c.column;f>1&&(f-=1),d.find(".axisbuilder-arrow").remove(),d.eq(f).append('<span class="axisbuilder-arrow">'+e+"</span>")}}};b.init()});